!function($){"use strict";function e(e){s=a.serialize(),l.attr("disabled",!0),c=e.reload?1:c+1,r[0]&&r.val(c),$.ajax({type:"POST",url:filltering_ajax_vars.url,data:{action:"filltering",nonce:filltering_ajax_vars.nonce,values:s,name:o,page:c},dataType:"json",beforeSend:function(e){f=!0,i.prepend('<span class="filltering"><i class="filltering"></i></span>')},success:function(a){a.success&&(e.reload&&i.empty(),i.append(a.posts_html),a.posts_remaining?n.show():n.hide())},complete:function(e,a){f=!1,i.find("span.filltering").remove();var n="fillter-successful"+(o?"-"+o:"");i.trigger(n)}})}var a=$("form.filltering"),i=$("div.filltering"),n=$("a.filltering"),t=$("form.filltering *"),l=a.find('input[type="submit"]'),r=a.find('input[name="query-paged"]'),s=a.serialize(),o=a.attr("action"),c=1,f=!1;l.attr("disabled",!0),r[0]&&(c=parseInt(r.val(),10)),i.children()[0]?$.ajax({type:"POST",url:filltering_ajax_vars.url,data:{action:"filltering",nonce:filltering_ajax_vars.nonce,values:s,name:o,page:c},dataType:"json",success:function(e){e.success&&(e.posts_remaining?n.show():n.hide())}}):e({reload:!0}),a.submit(function(a){a.preventDefault(),f||e({reload:!0})}),n.click(function(a){a.preventDefault(),f||e({reload:!1})}),t.on("change keyup paste",function(){s===a.serialize()?l.attr("disabled",!0):l.removeAttr("disabled")})}(jQuery);